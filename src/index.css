@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fondo editoriale con gradiente cipria + noise leggero (effetto carta) */
.bg-paper {
  /* Gradient cipria più intenso */
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100'><filter id='noise'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/></svg>"),
    linear-gradient(to bottom right, rgba(243, 201, 207, 0.45), rgba(255, 255, 255, 1), rgba(232, 191, 199, 0.30));
  background-size: 180px 180px, auto;
  background-repeat: repeat, no-repeat;
  background-position: center, center;
  /* Misc blend per un tocco cartaceo senza ingrigire troppo i contenuti */
  background-blend-mode: multiply, normal;
}

/* Easing morbido condiviso */
:root {
  --soft-ease: cubic-bezier(0.22, 0.61, 0.36, 1);
}

@layer base {
  body {
    font-family: 'Inter', 'Lato', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif;
    scroll-behavior: smooth;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Cormorant Garamond', 'Playfair Display', 'Spectral', serif;
  }
}

@layer utilities {
  /* Separatore netto tra sezioni: linea orizzontale sottile cipria */
  .section-sep {
    position: relative;
  }
  .section-sep::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background-color: #E8BFC7; /* cipria coerente con il brand */
  }
  /* Rivelazioni discrete su scroll: solo opacità e lieve traslazione */
  .reveal-up {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 700ms var(--soft-ease), transform 700ms var(--soft-ease);
    will-change: opacity, transform;
  }
  .reveal-right {
    opacity: 0;
    transform: translateX(-12px);
    transition: opacity 700ms var(--soft-ease), transform 700ms var(--soft-ease);
    will-change: opacity, transform;
  }
  .reveal-left {
    opacity: 0;
    transform: translateX(12px);
    transition: opacity 700ms var(--soft-ease), transform 700ms var(--soft-ease);
    will-change: opacity, transform;
  }
  .reveal-down {
    opacity: 0;
    transform: translateY(-12px);
    transition: opacity 700ms var(--soft-ease), transform 700ms var(--soft-ease);
    will-change: opacity, transform;
  }
  .in-view {
    opacity: 1;
    transform: none;
  }
  /* Fade-in del logo top-center */
  @keyframes logo-fade-in {
    0% {
      opacity: 0;
      transform: translateY(-8px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .logo-fade-in {
    animation: logo-fade-in 600ms ease-out both;
  }
  @keyframes slideInFromTop {
    0% {
      opacity: 0;
      transform: translateY(-20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInScale {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(236, 72, 153, 0.3);
    }
    50% {
      box-shadow: 0 0 20px rgba(236, 72, 153, 0.6);
    }
  }

  @keyframes ken-burns {
    0% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1.2);
    }
  }

  .animate-ken-burns {
    animation: ken-burns 8s ease-out infinite alternate;
  }

  /* (rimosso) Variante lenta per Landing */

  /* Accessibilità: riduce o elimina le animazioni se l’utente preferisce meno movimento */
  @media (prefers-reduced-motion: reduce) {
    .animate-ken-burns {
      animation: none !important;
    }
  }

  /* Galleria autoscorrevole (marquee) */
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Nuove classi per controllo preciso della marquee */
  .marquee-container {
    width: 100%;
    overflow: hidden;
  }
  .marquee-track {
    flex-wrap: nowrap; /* forza una sola riga, evita il ritorno a capo */
    animation: marquee 60s linear infinite; /* velocità ridotta (più lenta) */
    will-change: transform;
  }
  .marquee-container:hover .marquee-track {
    animation-play-state: paused; /* pausa al passaggio del mouse */
  }

  /* Slider mobile: scorrimento una foto alla volta */
  .mobile-slider {
    width: 100%;
    overflow: hidden;
  }
  .mobile-slider-track {
    display: flex;
    will-change: transform;
    transition: transform 800ms ease;
  }
  .mobile-slider-track.no-transition {
    transition: none;
  }
  .mobile-slider-track > img {
    flex-shrink: 0; /* ogni immagine occupa esattamente il 100% della larghezza del contenitore */
    width: 100%;
  }

  /* Indicatore scroll (mouse) con rimbalzo leggero, per evitare clipping su mobile */
  @keyframes soft-bounce {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }
  .animate-soft-bounce {
    animation: soft-bounce 1.5s ease-in-out infinite;
  }

  /* Overlay MENU: fade + slide from top (delicato) */
  @keyframes overlay-enter {
    0% {
      opacity: 0;
      transform: translateY(-12px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .overlay-appear {
    animation: overlay-enter 900ms cubic-bezier(0.22, 1, 0.36, 1) both;
  }

  /* Voce menu: fade-in + slide 15–20px */
  @keyframes item-enter {
    0% {
      opacity: 0;
      transform: translateY(18px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .menu-item-appear {
    animation: item-enter 800ms cubic-bezier(0.22, 1, 0.36, 1) both;
  }

  /* Tipografia H1 responsive con clamp: più controllata su mobile */
  .h1-responsive {
    font-size: clamp(1.75rem, 4vw + 0.5rem, 3rem);
    line-height: 1.2;
    letter-spacing: -0.01em;
  }

  /* Ken Burns soft affidabile su transform */
  @keyframes kenburns-soft {
    0% { transform: scale(1.04); }
    100% { transform: scale(1.10); }
  }
  .animate-kenburns-soft {
    animation: kenburns-soft 16s ease-in-out infinite alternate;
    will-change: transform;
  }

  /* Ombre di testo più forti per massima leggibilità su immagini chiare */
  .text-shadow-strong {
    text-shadow:
      0 2px 6px rgba(0, 0, 0, 0.8),
      0 6px 18px rgba(0, 0, 0, 0.6);
  }
  .text-shadow-strong-sm {
    text-shadow:
      0 1px 4px rgba(0, 0, 0, 0.7),
      0 3px 12px rgba(0, 0, 0, 0.5);
  }

  /* (rimosso) Layout pannelli specifico della Landing */
}
